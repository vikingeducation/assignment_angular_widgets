<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Photos</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="../js/photos.js"></script>
    <script src="../js/app.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style media="screen">
      .user {
        /*min-height: 200px;*/
        }
      .user:hover {
        cursor: pointer;
        }
    </style>
</head>

<body ng-app="WidgetsApp">
    <main class="container" ng-controller="PhotosCtrl">

        <!-- insta filters -->
        <div class="row">
            <div class="panel panel-default col-xs-offset-1 col-xs-10">
                <h2>Filters</h2>
                <select class="col-xs-4" ng-model="selectedFilter" ng-options="item for item in filters | orderBy:item">
                </select>
            </div>


        </div>
        <!-- insta filters end-->

        <!-- hashtags -->
        <div class="row">
            <div class="panel panel-default col-xs-offset-1 col-xs-10">
                <h2>Hash Tags</h2>
                <select class="col-xs-4" ng-model="selectedHashTags"
                  ng-options="item for item in hashTags | orderBy:item" multiple>
                </select>
                </div>
            </div>
        </div>
        <!-- hashtags end-->

        <div class="row">
            <div class="panel panel-default col-xs-offset-1 col-xs-10">
                <div class="panel-heading row">
                    <div class="panel-title">
                        <h2 class="col-xs-offset-5 col-xs-2 text-center">
                          {{ results.length }} Photos
                        </h2>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-xs-3 img-caption"

                          ng-repeat="post in rawFeed |
                                    filter:selectedFilter |
                                    userFilter:userToFilter |
                                    hashTagFilter:selectedHashTags |
                                    filter:x as results"
                          ng-init="buildAll(post)">

                            <a ng-href="{{ post['link'] }}">
                                <img ng-src="{{ post['images']['thumbnail']['url'] }}">
                            </a>
                            <a ng-href="{{ 'https://www.instagram.com/' + post['user']['username'] }}">
                                <p>
                                  {{ post['user']['username'] }}
                                </p>
                            </a>
                            <p>
                                Likes: {{ post['likes']['count'] }}
                            </p>
                            <p>
                                Comments: {{ post['comments']['count'] }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- user list -->
        <div class="panel panel-primary">
          <div class="panel-heading text-center">
            <h2>Filter by User</h2>
          </div>
          <div class="panel-body">
            <div class="row">

              <div class="col-xs-3 text-center user"
                    ng-repeat="post in rawFeed"
                    ng-click="setUserFilter(post)">
                    <p >
                      {{ post['user']['username'] }}
                    </p>
              </div>

            </div>
          </div>
        </div>

        <!-- user list end-->



    </main>
</body>
</html>
