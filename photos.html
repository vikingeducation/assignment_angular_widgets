<!doctype html>

<html>
  <head>
    <title>The Photo Gallery</title>
    <!-- Latest compiled and minified CSS Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
    <script src="moment.js"></script>
    <script src="photos.js"></script>
    <script src="app.js"></script>
  </head>
  <body ng-app="widgets">

    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          <div class="header">
            <h1>Instagram Photos</h1>
          </div>
        </div>
      </div>

      <div class="main" ng-controller="PhotosCtrl">

        <div ng-repeat="d in rawFeed['data']" ng-if="$index % 3 == 0" class="row">
          <div class="col-xs-4">
            <a ng-href="{{ d.link }}"><img src="{{ d['images'].low_resolution.url }}"></a>
            <p><a href="https://www.instagram.com/{{ d.user.username }}">{{ d.user.username }}</a></p>
            <p>{{ convertToDate(d.created_time) }}</p>
            <p>Likes: {{ d.likes.count }}</p>
            <p>Comments: {{ d.comments.count }}</p>
            <p>Tags: <a ng-repeat="tag in d.tags" href="">#{{ tag }} </a></p>
            <p>Filters: {{ d.filter }}</p>
          </div>

          <div class="col-xs-4" ng-if="rawFeed['data'].length > ($index + 1)">
            <a ng-href="{{ rawFeed['data'][$index + 1].link }}"><img src="{{ rawFeed['data'][$index + 1]['images'].low_resolution.url }}"></a>
            <p><a href="https://www.instagram.com/{{ rawFeed['data'][$index + 1].user.username }}">{{ rawFeed['data'][$index + 1].user.username }}</a></p>
            <p>{{ convertToDate(rawFeed['data'][$index + 1].created_time) }}</p>
            <p>Likes: {{ rawFeed['data'][$index + 1].likes.count }}</p>
            <p>Comments: {{ rawFeed['data'][$index + 1].comments.count }}</p>
            <p>Tags: <a ng-repeat="tag in rawFeed['data'][$index + 1].tags" href="">#{{ tag }} </a></p>
            <p>Filters: {{ rawFeed['data'][$index + 1].filter }}</p>
          </div>

          <div class="col-xs-4" ng-if="rawFeed['data'].length > ($index + 2)">
            <a ng-href="{{ rawFeed['data'][$index + 2].link }}"><img src="{{ rawFeed['data'][$index + 2]['images'].low_resolution.url }}"></a>
            <p><a href="https://www.instagram.com/{{ rawFeed['data'][$index + 2].user.username }}">{{ rawFeed['data'][$index + 2].user.username }}</a></p>
            <p>{{ convertToDate(rawFeed['data'][$index + 2].created_time) }}</p>
            <p>Likes: {{ rawFeed['data'][$index + 2].likes.count }}</p>
            <p>Comments: {{ rawFeed['data'][$index + 2].comments.count }}</p>
            <p>Tags: <a ng-repeat="tag in rawFeed['data'][$index + 2].tags" href="">#{{ tag }} </a></p>
            <p>Filters: {{ rawFeed['data'][$index + 2].filter }}</p>
          </div>
        </div>

      </div>
    </div>
  </body>
</html>